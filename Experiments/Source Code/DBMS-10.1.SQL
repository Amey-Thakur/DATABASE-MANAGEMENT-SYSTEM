SET SERVEROUTPUT ON SIZE 1000000;
DECLARE
-- DECLARE A CURSOR
CURSOR CUR_CHIEF IS
	SELECT FIRST_NAME,
		LAST_NAME,
		DEPARTMENT_NAME
	FROM EMPLOYEES E
	INNER JOIN DEPARTMENTS D ON D.MANAGER_ID = E.EMPLOYEE_ID;

R_CHIEF CUR_CHIEF%ROWTYPE;
BEGIN
	OPEN CUR_CHIEF;
	LOOP
	-- FETCH INFORMATION FROM CURSOR INTO RECORD
	FETCH CUR_CHIEF INTO R_CHIEF;
	
	EXIT WHEN CUR_CHIEF%NOT FOUND;

	-- PRINT DEPARTMENT - CHIEF
	DBMS_OUTPUT.PUT_LINE(R_CHIEF.DEPARTMENT_NAME ||'.
					R_CHIEF. FIRST_NAME || ':' ||
					R_CHIEF.LAST_NAME);
	END LOOP;
	-- CLOSE CURSOR CUR_CHIEF
	CLOSE CUR_CHIEF;
END;